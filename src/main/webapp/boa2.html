<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <title>Treemap layout (with labels)</title>
</head>

<style>
    rect {
        fill: cadetblue;
        opacity: 0.3;
        stroke: white;
    }
    text {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        fill: white;
        font-size: 10px;
    }
</style>

<body>
<svg width="420" height="220">
    <g></g>
</svg>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.2/d3.min.js"></script>
<script>
    var data = {"name":"ai","cooc":5.509765625,"children":[{"name":"art","cooc":2.419921875,"children":[{"name":"klingemann","cooc":1.890625,"children":[{"name":"creativity","cooc":1.626953125,"children":[{"name":"limited"},{"name":"artist"}]}]},{"name":"moments","cooc":1.5078125,"children":[{"name":"machines","cooc":1.5,"children":[{"name":"imagination"}]}]},{"name":"auction"}]},{"name":"generated"}]};


    var treemapLayout = d3.treemap()
        .size([400, 200])
        .paddingOuter(16);

    var rootNode = d3.hierarchy(data)

    rootNode.sum(function(d) {
        return d.cooc;
    });

    treemapLayout(rootNode);

    var nodes = d3.select('svg g')
        .selectAll('g')
        .data(rootNode.descendants())
        .enter()
        .append('g')
        .attr('transform', function(d) {return 'translate(' + [d.x0, d.y0] + ')'})

    nodes
        .append('rect')
        .attr('width', function(d) { return d.x1 - d.x0; })
        .attr('height', function(d) { return d.y1 - d.y0; })

    nodes
        .append('text')
        .attr('dx', 4)
        .attr('dy', 14)
        .text(function(d) {
            return d.data.name;
        })

</script>
</body>
</html>