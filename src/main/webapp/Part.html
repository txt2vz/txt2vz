<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>d3.chart.layout.hierarchy.partition.rectangle</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://rawgit.com/misoproject/d3.chart/master/d3.chart.min.js"></script>
    <script src="https://rawgit.com/annaghi/d3.chart.layout.hierarchy/master/d3.chart.layout.hierarchy.js"></script>
    <style>
        html {
            display: table;
            margin: auto; }

        #vis {
            width: 960px;
            height: 500px; }

        .partition rect {
            cursor: pointer;
            fill: steelblue;
            stroke: #fff; }

        .partition text {
            pointer-events: none; }

        .partition.leaf rect {
            stroke: #eee;
            fill: #aaa; }
    </style>
</head>
<body>

<div id="vis"></div>

<script>
   // (function() {
       // d3.json("boa.json", function(error, jsonx) {


            var json2=

                '{"name":"query","children":[{"name":"search","cooc":32.306640625},{"name":"words","children":[{"name":"category","children":[{"name":"labels","cooc":6.26171875}],"cooc":13.59375},{"name":"occur","cooc":12.490234375},{"name":"number","cooc":8.013671875},{"name":"f1","cooc":7.541015625}],"cooc":19.296875},{"name":"evolved","cooc":16.359375},{"name":"classifiers","children":[{"name":"text","cooc":7.265625}],"cooc":13.763671875},{"name":"dataset","cooc":12.05859375},{"name":"lucene","children":[{"name":"apache","cooc":10.3125}],"cooc":11.654296875},{"name":"documents","children":[{"name":"set","children":[{"name":"training","cooc":6.900390625}],"cooc":8.66796875}],"cooc":10.501953125},{"name":"evaluate","cooc":9.955078125},{"name":"types","cooc":9.943359375},{"name":"returned","cooc":9.1328125},{"name":"produce","children":[{"name":"system","cooc":6.0625}],"cooc":8.181640625},{"name":"classification","cooc":7.025390625}]}';
//                '{"name":"php","children":[{"name":"conndetails","cooc":9.13671875},{"name":"file","children":[{"name":"save","cooc":6.314453125},{"name":"open","cooc":5.87109375},{"name":"web","cooc":3.62890625}],"cooc":7.4140625},{"name":"include","cooc":6.134765625},{"name":"database","cooc":5.2890625},{"name":"connection","children":[{"name":"check","cooc":4.201171875}],"cooc":5.060546875},{"name":"html","cooc":4.974609375},{"name":"db","cooc":4.75},{"name":"dbsimpleselect","cooc":4.28515625},{"name":"create","cooc":3.708984375},{"name":"code","cooc":3.625}]}';


//'{"name": "british4", "cooc": 1, "children": [{"name": "online", "cooc":1.8},{"name": "archives", "cooc": 0.1},{"name":"om", "cooc":0.4}]}';
//  '{"name":"ai","cooc":5.509765625,"children":[{"name":"art","cooc":2.419921875,"children":[{"name":"klingemann","cooc":1.890625,"children":[{"name":"creativity","cooc":1.626953125,"children":[{"name":"limited", "cooc":2.419921875},{"name":"artist","cooc":1.00390625,"children":[{"name":"considered", "cooc":2.419921875}]},{"name":"ultimately", "cooc":2.419921875}]},{"name":"obvious"},{"name":"prize"},{"name":"algorithm","cooc":1.03125,"children":[{"name":"create","cooc":1.0,"children":[{"name":"computer"}]}]},{"name":"scratch"},{"name":"including"}]},{"name":"moments","cooc":1.5078125,"children":[{"name":"machines","cooc":1.5,"children":[{"name":"imagination"},{"name":"images"}]}]},{"name":"auction","cooc":1.005859375,"children":[{"name":"sotheby"}]},{"name":"human","cooc":1.0703125,"children":[{"name":"move"},{"name":"things"},{"name":"player"},{"name":"collective"},{"name":"setting","cooc":1.0,"children":[{"name":"son"}]},{"name":"knowledge"}]},{"name":"piece"},{"name":"raising"}]},{"name":"generated","cooc":1.00390625,"children":[{"name":"program","cooc":1.0,"children":[{"name":"faces"}]},{"name":"learned"}]},{"name":"time"},{"name":"work","cooc":1.015625,"children":[{"name":"make","cooc":1.0,"children":[{"name":"thought"}]},{"name":"butcher"}]},{"name":"build"},{"name":"alphago","cooc":1.0,"children":[{"name":"made"}]}]}';
//'{"name":"london","cooc":3.625,"children":[{"name":"college","cooc":2.5,"children":[{"name":"imperial","cooc":1.125,"children":[{"name":"researchers"},{"cooc":1.125}]},{"cooc":2.5},{"name":"university","cooc":1.00390625,"children":[{"name":"involved"},{"cooc":1.00390625}]}]},{"cooc":3.625},{"name":"patient","cooc":1.611328125,"children":[{"name":"remission","cooc":1.5,"children":[{"name":"cancer","cooc":1.03125,"children":[{"name":"hodgkin","cooc":1.03125,"children":[{"name":"advanced"},{"cooc":1.03125}]},{"cooc":1.03125},{"name":"leading"}]},{"cooc":1.5}]},{"cooc":1.611328125},{"name":"anomaly"},{"name":"cured","cooc":1.00390625,"children":[{"name":"find"},{"cooc":1.00390625}]},{"name":"approach","cooc":1.125,"children":[{"name":"treatment"},{"cooc":1.125}]},{"name":"donor","cooc":1.001953125,"children":[{"name":"transplant"},{"cooc":1.001953125}]},{"name":"uk"},{"name":"early"},{"name":"named"}]},{"name":"nature"}]}'
//   ' {"name":"london","cooc":3.625,"children":[{"name":"college","cooc":2.5,"children":[{"name":"imperial"}]},{"name":"patient","cooc":1.611328125,"children":[{"name":"remission","cooc":1.5,"children":[{"name":"cancer"}]},{"name":"anomaly"}]}]}'
 //  '{"name":"pensions","cooc":4.0,"children":[{"name":"work","cooc":1.28125,"children":[{"name":"big","cooc":0.53125,"children":[{"name":"feel"}]},{"name":"job"},{"name":"party"}]},{"name":"secretary","cooc":1.0078125,"children":[{"name":"worse","cooc":1.00390625,"children":[{"name":"department","cooc":0.84375,"children":[{"name":"wrong"},{"name":"father"}]},{"name":"grayling"}]},{"name":"rudd","cooc":0.78125,"children":[{"name":"cabinet","cooc":0.5,"children":[{"name":"tory"}]},{"name":"remain","cooc":0.625,"children":[{"name":"make"},{"name":"chance"}]},{"name":"disability","cooc":0.5625,"children":[{"name":"minister","cooc":0.5,"children":[{"name":"heading"}]},{"name":"convinced"}]}]},{"name":"home","cooc":1.0,"children":[{"name":"latest","cooc":1.0,"children":[{"name":"good","cooc":1.0,"children":[{"name":"numbers"}]}]},{"name":"conservative","cooc":1.0,"children":[{"name":"government","cooc":1.0,"children":[{"name":"back"}]}]}]},{"name":"unlike"}]},{"name":"happy","cooc":1.0078125,"children":[{"name":"wanted","cooc":1.00390625,"children":[{"name":"people","cooc":1.0,"children":[{"name":"eyes"},{"name":"brexit"}]},{"name":"day"}]},{"name":"things"},{"name":"woman","cooc":1.0,"children":[{"name":"personality","cooc":0.5,"children":[{"name":"final"}]}]}]}]}\n'

            var json3 = JSON.parse(json2);

            var partition = d3.select("#vis").append("svg")

                .chart("partition.rectangle")

                .value("cooc")
                //.zoomable([1, 5])
                .collapsible()
                //.duration(200)
                .sortable("_DESC_")
            ;

            partition.draw(json3);

       // });
    //}());
</script>
</body>
</html>