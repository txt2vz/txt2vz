<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>d3.chart.layout.hierarchy.partition.rectangle</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://rawgit.com/misoproject/d3.chart/master/d3.chart.min.js"></script>
    <script src="https://rawgit.com/annaghi/d3.chart.layout.hierarchy/master/d3.chart.layout.hierarchy.js"></script>
    <style>
        html {
            display: table;
            margin: auto; }

        #vis {
            width: 960px;
            height: 500px; }

        .partition rect {
            cursor: pointer;
            fill: steelblue;
            stroke: #fff; }

        .partition text {
            pointer-events: none; }

        .partition.leaf rect {
            stroke: #eee;
            fill: #aaa; }
    </style>
</head>
<body>

<div id="vis"></div>

<script>
   // (function() {
       // d3.json("boa.json", function(error, jsonx) {
            var json2=
//'{"name": "british4", "cooc": 1, "children": [{"name": "online", "cooc":1.8},{"name": "archives", "cooc": 0.1},{"name":"om", "cooc":0.4}]}';
//  '{"name":"ai","cooc":5.509765625,"children":[{"name":"art","cooc":2.419921875,"children":[{"name":"klingemann","cooc":1.890625,"children":[{"name":"creativity","cooc":1.626953125,"children":[{"name":"limited", "cooc":2.419921875},{"name":"artist","cooc":1.00390625,"children":[{"name":"considered", "cooc":2.419921875}]},{"name":"ultimately", "cooc":2.419921875}]},{"name":"obvious"},{"name":"prize"},{"name":"algorithm","cooc":1.03125,"children":[{"name":"create","cooc":1.0,"children":[{"name":"computer"}]}]},{"name":"scratch"},{"name":"including"}]},{"name":"moments","cooc":1.5078125,"children":[{"name":"machines","cooc":1.5,"children":[{"name":"imagination"},{"name":"images"}]}]},{"name":"auction","cooc":1.005859375,"children":[{"name":"sotheby"}]},{"name":"human","cooc":1.0703125,"children":[{"name":"move"},{"name":"things"},{"name":"player"},{"name":"collective"},{"name":"setting","cooc":1.0,"children":[{"name":"son"}]},{"name":"knowledge"}]},{"name":"piece"},{"name":"raising"}]},{"name":"generated","cooc":1.00390625,"children":[{"name":"program","cooc":1.0,"children":[{"name":"faces"}]},{"name":"learned"}]},{"name":"time"},{"name":"work","cooc":1.015625,"children":[{"name":"make","cooc":1.0,"children":[{"name":"thought"}]},{"name":"butcher"}]},{"name":"build"},{"name":"alphago","cooc":1.0,"children":[{"name":"made"}]}]}';
'{"name":"london","cooc":3.625,"children":[{"name":"college","cooc":2.5,"children":[{"name":"imperial","cooc":1.125,"children":[{"name":"researchers"},{"cooc":1.125}]},{"cooc":2.5},{"name":"university","cooc":1.00390625,"children":[{"name":"involved"},{"cooc":1.00390625}]}]},{"cooc":3.625},{"name":"patient","cooc":1.611328125,"children":[{"name":"remission","cooc":1.5,"children":[{"name":"cancer","cooc":1.03125,"children":[{"name":"hodgkin","cooc":1.03125,"children":[{"name":"advanced"},{"cooc":1.03125}]},{"cooc":1.03125},{"name":"leading"}]},{"cooc":1.5}]},{"cooc":1.611328125},{"name":"anomaly"},{"name":"cured","cooc":1.00390625,"children":[{"name":"find"},{"cooc":1.00390625}]},{"name":"approach","cooc":1.125,"children":[{"name":"treatment"},{"cooc":1.125}]},{"name":"donor","cooc":1.001953125,"children":[{"name":"transplant"},{"cooc":1.001953125}]},{"name":"uk"},{"name":"early"},{"name":"named"}]},{"name":"nature"}]}'
//   ' {"name":"london","cooc":3.625,"children":[{"name":"college","cooc":2.5,"children":[{"name":"imperial"}]},{"name":"patient","cooc":1.611328125,"children":[{"name":"remission","cooc":1.5,"children":[{"name":"cancer"}]},{"name":"anomaly"}]}]}'
 //  '{"name":"pensions","cooc":4.0,"children":[{"name":"work","cooc":1.28125,"children":[{"name":"big","cooc":0.53125,"children":[{"name":"feel"}]},{"name":"job"},{"name":"party"}]},{"name":"secretary","cooc":1.0078125,"children":[{"name":"worse","cooc":1.00390625,"children":[{"name":"department","cooc":0.84375,"children":[{"name":"wrong"},{"name":"father"}]},{"name":"grayling"}]},{"name":"rudd","cooc":0.78125,"children":[{"name":"cabinet","cooc":0.5,"children":[{"name":"tory"}]},{"name":"remain","cooc":0.625,"children":[{"name":"make"},{"name":"chance"}]},{"name":"disability","cooc":0.5625,"children":[{"name":"minister","cooc":0.5,"children":[{"name":"heading"}]},{"name":"convinced"}]}]},{"name":"home","cooc":1.0,"children":[{"name":"latest","cooc":1.0,"children":[{"name":"good","cooc":1.0,"children":[{"name":"numbers"}]}]},{"name":"conservative","cooc":1.0,"children":[{"name":"government","cooc":1.0,"children":[{"name":"back"}]}]}]},{"name":"unlike"}]},{"name":"happy","cooc":1.0078125,"children":[{"name":"wanted","cooc":1.00390625,"children":[{"name":"people","cooc":1.0,"children":[{"name":"eyes"},{"name":"brexit"}]},{"name":"day"}]},{"name":"things"},{"name":"woman","cooc":1.0,"children":[{"name":"personality","cooc":0.5,"children":[{"name":"final"}]}]}]}]}\n'

            var json3 = JSON.parse(json2);

            var partition = d3.select("#vis").append("svg")

                .chart("partition.rectangle")

                .value("cooc")
                //.zoomable([1, 5])
                .collapsible()
                //.duration(200)
                .sortable("_DESC_")
            ;

            partition.draw(json3);

       // });
    //}());
</script>
</body>
</html>